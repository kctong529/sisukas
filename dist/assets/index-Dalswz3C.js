(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const t of i)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const t={};return i.integrity&&(t.integrity=i.integrity),i.referrerPolicy&&(t.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?t.credentials="include":i.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(i){if(i.ep)return;i.ep=!0;const t=r(i);fetch(i.href,t)}})();/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function Pe(e){return typeof e>"u"||e===null}function bn(e){return typeof e=="object"&&e!==null}function In(e){return Array.isArray(e)?e:Pe(e)?[]:[e]}function On(e,n){var r,o,i,t;if(n)for(t=Object.keys(n),r=0,o=t.length;r<o;r+=1)i=t[r],e[i]=n[i];return e}function Dn(e,n){var r="",o;for(o=0;o<n;o+=1)r+=e;return r}function Mn(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var kn=Pe,Nn=bn,Hn=In,Rn=Dn,Pn=Mn,jn=On,A={isNothing:kn,isObject:Nn,toArray:Hn,repeat:Rn,isNegativeZero:Pn,extend:jn};function je(e,n){var r="",o=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!n&&e.mark.snippet&&(r+=`

`+e.mark.snippet),o+" "+r):o}function U(e,n){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=n,this.message=je(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}U.prototype=Object.create(Error.prototype);U.prototype.constructor=U;U.prototype.toString=function(n){return this.name+": "+je(this,n)};var E=U;function J(e,n,r,o,i){var t="",l="",a=Math.floor(i/2)-1;return o-n>a&&(t=" ... ",n=o-a+t.length),r-o>a&&(l=" ...",r=o+a-l.length),{str:t+e.slice(n,r).replace(/\t/g,"→")+l,pos:o-n+t.length}}function ee(e,n){return A.repeat(" ",n-e.length)+e}function Bn(e,n){if(n=Object.create(n||null),!e.buffer)return null;n.maxLength||(n.maxLength=79),typeof n.indent!="number"&&(n.indent=1),typeof n.linesBefore!="number"&&(n.linesBefore=3),typeof n.linesAfter!="number"&&(n.linesAfter=2);for(var r=/\r?\n|\r|\0/g,o=[0],i=[],t,l=-1;t=r.exec(e.buffer);)i.push(t.index),o.push(t.index+t[0].length),e.position<=t.index&&l<0&&(l=o.length-2);l<0&&(l=o.length-1);var a="",u,c,p=Math.min(e.line+n.linesAfter,i.length).toString().length,f=n.maxLength-(n.indent+p+3);for(u=1;u<=n.linesBefore&&!(l-u<0);u++)c=J(e.buffer,o[l-u],i[l-u],e.position-(o[l]-o[l-u]),f),a=A.repeat(" ",n.indent)+ee((e.line-u+1).toString(),p)+" | "+c.str+`
`+a;for(c=J(e.buffer,o[l],i[l],e.position,f),a+=A.repeat(" ",n.indent)+ee((e.line+1).toString(),p)+" | "+c.str+`
`,a+=A.repeat("-",n.indent+p+3+c.pos)+`^
`,u=1;u<=n.linesAfter&&!(l+u>=i.length);u++)c=J(e.buffer,o[l+u],i[l+u],e.position-(o[l]-o[l+u]),f),a+=A.repeat(" ",n.indent)+ee((e.line+u+1).toString(),p)+" | "+c.str+`
`;return a.replace(/\n$/,"")}var Yn=Bn,Un=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],$n=["scalar","sequence","mapping"];function qn(e){var n={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(o){n[String(o)]=r})}),n}function Gn(e,n){if(n=n||{},Object.keys(n).forEach(function(r){if(Un.indexOf(r)===-1)throw new E('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=n,this.tag=e,this.kind=n.kind||null,this.resolve=n.resolve||function(){return!0},this.construct=n.construct||function(r){return r},this.instanceOf=n.instanceOf||null,this.predicate=n.predicate||null,this.represent=n.represent||null,this.representName=n.representName||null,this.defaultStyle=n.defaultStyle||null,this.multi=n.multi||!1,this.styleAliases=qn(n.styleAliases||null),$n.indexOf(this.kind)===-1)throw new E('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var C=Gn;function xe(e,n){var r=[];return e[n].forEach(function(o){var i=r.length;r.forEach(function(t,l){t.tag===o.tag&&t.kind===o.kind&&t.multi===o.multi&&(i=l)}),r[i]=o}),r}function Kn(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},n,r;function o(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(n=0,r=arguments.length;n<r;n+=1)arguments[n].forEach(o);return e}function oe(e){return this.extend(e)}oe.prototype.extend=function(n){var r=[],o=[];if(n instanceof C)o.push(n);else if(Array.isArray(n))o=o.concat(n);else if(n&&(Array.isArray(n.implicit)||Array.isArray(n.explicit)))n.implicit&&(r=r.concat(n.implicit)),n.explicit&&(o=o.concat(n.explicit));else throw new E("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(t){if(!(t instanceof C))throw new E("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(t.loadKind&&t.loadKind!=="scalar")throw new E("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(t.multi)throw new E("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),o.forEach(function(t){if(!(t instanceof C))throw new E("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(oe.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(o),i.compiledImplicit=xe(i,"implicit"),i.compiledExplicit=xe(i,"explicit"),i.compiledTypeMap=Kn(i.compiledImplicit,i.compiledExplicit),i};var Be=oe,Ye=new C("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Ue=new C("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),$e=new C("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),qe=new Be({explicit:[Ye,Ue,$e]});function Wn(e){if(e===null)return!0;var n=e.length;return n===1&&e==="~"||n===4&&(e==="null"||e==="Null"||e==="NULL")}function Vn(){return null}function Qn(e){return e===null}var Ge=new C("tag:yaml.org,2002:null",{kind:"scalar",resolve:Wn,construct:Vn,predicate:Qn,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Xn(e){if(e===null)return!1;var n=e.length;return n===4&&(e==="true"||e==="True"||e==="TRUE")||n===5&&(e==="false"||e==="False"||e==="FALSE")}function Zn(e){return e==="true"||e==="True"||e==="TRUE"}function zn(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var Ke=new C("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Xn,construct:Zn,predicate:zn,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function Jn(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function er(e){return 48<=e&&e<=55}function nr(e){return 48<=e&&e<=57}function rr(e){if(e===null)return!1;var n=e.length,r=0,o=!1,i;if(!n)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===n)return!0;if(i=e[++r],i==="b"){for(r++;r<n;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;o=!0}return o&&i!=="_"}if(i==="x"){for(r++;r<n;r++)if(i=e[r],i!=="_"){if(!Jn(e.charCodeAt(r)))return!1;o=!0}return o&&i!=="_"}if(i==="o"){for(r++;r<n;r++)if(i=e[r],i!=="_"){if(!er(e.charCodeAt(r)))return!1;o=!0}return o&&i!=="_"}}if(i==="_")return!1;for(;r<n;r++)if(i=e[r],i!=="_"){if(!nr(e.charCodeAt(r)))return!1;o=!0}return!(!o||i==="_")}function ir(e){var n=e,r=1,o;if(n.indexOf("_")!==-1&&(n=n.replace(/_/g,"")),o=n[0],(o==="-"||o==="+")&&(o==="-"&&(r=-1),n=n.slice(1),o=n[0]),n==="0")return 0;if(o==="0"){if(n[1]==="b")return r*parseInt(n.slice(2),2);if(n[1]==="x")return r*parseInt(n.slice(2),16);if(n[1]==="o")return r*parseInt(n.slice(2),8)}return r*parseInt(n,10)}function or(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!A.isNegativeZero(e)}var We=new C("tag:yaml.org,2002:int",{kind:"scalar",resolve:rr,construct:ir,predicate:or,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),lr=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function tr(e){return!(e===null||!lr.test(e)||e[e.length-1]==="_")}function ar(e){var n,r;return n=e.replace(/_/g,"").toLowerCase(),r=n[0]==="-"?-1:1,"+-".indexOf(n[0])>=0&&(n=n.slice(1)),n===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:n===".nan"?NaN:r*parseFloat(n,10)}var ur=/^[-+]?[0-9]+e/;function cr(e,n){var r;if(isNaN(e))switch(n){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(n){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(n){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(A.isNegativeZero(e))return"-0.0";return r=e.toString(10),ur.test(r)?r.replace("e",".e"):r}function fr(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||A.isNegativeZero(e))}var Ve=new C("tag:yaml.org,2002:float",{kind:"scalar",resolve:tr,construct:ar,predicate:fr,represent:cr,defaultStyle:"lowercase"}),Qe=qe.extend({implicit:[Ge,Ke,We,Ve]}),Xe=Qe,Ze=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),ze=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function pr(e){return e===null?!1:Ze.exec(e)!==null||ze.exec(e)!==null}function sr(e){var n,r,o,i,t,l,a,u=0,c=null,p,f,s;if(n=Ze.exec(e),n===null&&(n=ze.exec(e)),n===null)throw new Error("Date resolve error");if(r=+n[1],o=+n[2]-1,i=+n[3],!n[4])return new Date(Date.UTC(r,o,i));if(t=+n[4],l=+n[5],a=+n[6],n[7]){for(u=n[7].slice(0,3);u.length<3;)u+="0";u=+u}return n[9]&&(p=+n[10],f=+(n[11]||0),c=(p*60+f)*6e4,n[9]==="-"&&(c=-c)),s=new Date(Date.UTC(r,o,i,t,l,a,u)),c&&s.setTime(s.getTime()-c),s}function dr(e){return e.toISOString()}var Je=new C("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:pr,construct:sr,instanceOf:Date,represent:dr});function hr(e){return e==="<<"||e===null}var en=new C("tag:yaml.org,2002:merge",{kind:"scalar",resolve:hr}),pe=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function mr(e){if(e===null)return!1;var n,r,o=0,i=e.length,t=pe;for(r=0;r<i;r++)if(n=t.indexOf(e.charAt(r)),!(n>64)){if(n<0)return!1;o+=6}return o%8===0}function gr(e){var n,r,o=e.replace(/[\r\n=]/g,""),i=o.length,t=pe,l=0,a=[];for(n=0;n<i;n++)n%4===0&&n&&(a.push(l>>16&255),a.push(l>>8&255),a.push(l&255)),l=l<<6|t.indexOf(o.charAt(n));return r=i%4*6,r===0?(a.push(l>>16&255),a.push(l>>8&255),a.push(l&255)):r===18?(a.push(l>>10&255),a.push(l>>2&255)):r===12&&a.push(l>>4&255),new Uint8Array(a)}function vr(e){var n="",r=0,o,i,t=e.length,l=pe;for(o=0;o<t;o++)o%3===0&&o&&(n+=l[r>>18&63],n+=l[r>>12&63],n+=l[r>>6&63],n+=l[r&63]),r=(r<<8)+e[o];return i=t%3,i===0?(n+=l[r>>18&63],n+=l[r>>12&63],n+=l[r>>6&63],n+=l[r&63]):i===2?(n+=l[r>>10&63],n+=l[r>>4&63],n+=l[r<<2&63],n+=l[64]):i===1&&(n+=l[r>>2&63],n+=l[r<<4&63],n+=l[64],n+=l[64]),n}function xr(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var nn=new C("tag:yaml.org,2002:binary",{kind:"scalar",resolve:mr,construct:gr,predicate:xr,represent:vr}),yr=Object.prototype.hasOwnProperty,Ar=Object.prototype.toString;function Cr(e){if(e===null)return!0;var n=[],r,o,i,t,l,a=e;for(r=0,o=a.length;r<o;r+=1){if(i=a[r],l=!1,Ar.call(i)!=="[object Object]")return!1;for(t in i)if(yr.call(i,t))if(!l)l=!0;else return!1;if(!l)return!1;if(n.indexOf(t)===-1)n.push(t);else return!1}return!0}function wr(e){return e!==null?e:[]}var rn=new C("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Cr,construct:wr}),Er=Object.prototype.toString;function Sr(e){if(e===null)return!0;var n,r,o,i,t,l=e;for(t=new Array(l.length),n=0,r=l.length;n<r;n+=1){if(o=l[n],Er.call(o)!=="[object Object]"||(i=Object.keys(o),i.length!==1))return!1;t[n]=[i[0],o[i[0]]]}return!0}function _r(e){if(e===null)return[];var n,r,o,i,t,l=e;for(t=new Array(l.length),n=0,r=l.length;n<r;n+=1)o=l[n],i=Object.keys(o),t[n]=[i[0],o[i[0]]];return t}var on=new C("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Sr,construct:_r}),Lr=Object.prototype.hasOwnProperty;function Tr(e){if(e===null)return!0;var n,r=e;for(n in r)if(Lr.call(r,n)&&r[n]!==null)return!1;return!0}function Fr(e){return e!==null?e:{}}var ln=new C("tag:yaml.org,2002:set",{kind:"mapping",resolve:Tr,construct:Fr}),se=Xe.extend({implicit:[Je,en],explicit:[nn,rn,on,ln]}),I=Object.prototype.hasOwnProperty,W=1,tn=2,an=3,V=4,ne=1,br=2,ye=3,Ir=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Or=/[\x85\u2028\u2029]/,Dr=/[,\[\]\{\}]/,un=/^(?:!|!!|![a-z\-]+!)$/i,cn=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Ae(e){return Object.prototype.toString.call(e)}function L(e){return e===10||e===13}function k(e){return e===9||e===32}function S(e){return e===9||e===32||e===10||e===13}function R(e){return e===44||e===91||e===93||e===123||e===125}function Mr(e){var n;return 48<=e&&e<=57?e-48:(n=e|32,97<=n&&n<=102?n-97+10:-1)}function kr(e){return e===120?2:e===117?4:e===85?8:0}function Nr(e){return 48<=e&&e<=57?e-48:-1}function Ce(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function Hr(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var fn=new Array(256),pn=new Array(256);for(var N=0;N<256;N++)fn[N]=Ce(N)?1:0,pn[N]=Ce(N);function Rr(e,n){this.input=e,this.filename=n.filename||null,this.schema=n.schema||se,this.onWarning=n.onWarning||null,this.legacy=n.legacy||!1,this.json=n.json||!1,this.listener=n.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function sn(e,n){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=Yn(r),new E(n,r)}function h(e,n){throw sn(e,n)}function Q(e,n){e.onWarning&&e.onWarning.call(null,sn(e,n))}var we={YAML:function(n,r,o){var i,t,l;n.version!==null&&h(n,"duplication of %YAML directive"),o.length!==1&&h(n,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(o[0]),i===null&&h(n,"ill-formed argument of the YAML directive"),t=parseInt(i[1],10),l=parseInt(i[2],10),t!==1&&h(n,"unacceptable YAML version of the document"),n.version=o[0],n.checkLineBreaks=l<2,l!==1&&l!==2&&Q(n,"unsupported YAML version of the document")},TAG:function(n,r,o){var i,t;o.length!==2&&h(n,"TAG directive accepts exactly two arguments"),i=o[0],t=o[1],un.test(i)||h(n,"ill-formed tag handle (first argument) of the TAG directive"),I.call(n.tagMap,i)&&h(n,'there is a previously declared suffix for "'+i+'" tag handle'),cn.test(t)||h(n,"ill-formed tag prefix (second argument) of the TAG directive");try{t=decodeURIComponent(t)}catch{h(n,"tag prefix is malformed: "+t)}n.tagMap[i]=t}};function b(e,n,r,o){var i,t,l,a;if(n<r){if(a=e.input.slice(n,r),o)for(i=0,t=a.length;i<t;i+=1)l=a.charCodeAt(i),l===9||32<=l&&l<=1114111||h(e,"expected valid JSON character");else Ir.test(a)&&h(e,"the stream contains non-printable characters");e.result+=a}}function Ee(e,n,r,o){var i,t,l,a;for(A.isObject(r)||h(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),l=0,a=i.length;l<a;l+=1)t=i[l],I.call(n,t)||(n[t]=r[t],o[t]=!0)}function P(e,n,r,o,i,t,l,a,u){var c,p;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,p=i.length;c<p;c+=1)Array.isArray(i[c])&&h(e,"nested arrays are not supported inside keys"),typeof i=="object"&&Ae(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&Ae(i)==="[object Object]"&&(i="[object Object]"),i=String(i),n===null&&(n={}),o==="tag:yaml.org,2002:merge")if(Array.isArray(t))for(c=0,p=t.length;c<p;c+=1)Ee(e,n,t[c],r);else Ee(e,n,t,r);else!e.json&&!I.call(r,i)&&I.call(n,i)&&(e.line=l||e.line,e.lineStart=a||e.lineStart,e.position=u||e.position,h(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(n,i,{configurable:!0,enumerable:!0,writable:!0,value:t}):n[i]=t,delete r[i];return n}function de(e){var n;n=e.input.charCodeAt(e.position),n===10?e.position++:n===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):h(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function y(e,n,r){for(var o=0,i=e.input.charCodeAt(e.position);i!==0;){for(;k(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(n&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(L(i))for(de(e),i=e.input.charCodeAt(e.position),o++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&o!==0&&e.lineIndent<r&&Q(e,"deficient indentation"),o}function z(e){var n=e.position,r;return r=e.input.charCodeAt(n),!!((r===45||r===46)&&r===e.input.charCodeAt(n+1)&&r===e.input.charCodeAt(n+2)&&(n+=3,r=e.input.charCodeAt(n),r===0||S(r)))}function he(e,n){n===1?e.result+=" ":n>1&&(e.result+=A.repeat(`
`,n-1))}function Pr(e,n,r){var o,i,t,l,a,u,c,p,f=e.kind,s=e.result,d;if(d=e.input.charCodeAt(e.position),S(d)||R(d)||d===35||d===38||d===42||d===33||d===124||d===62||d===39||d===34||d===37||d===64||d===96||(d===63||d===45)&&(i=e.input.charCodeAt(e.position+1),S(i)||r&&R(i)))return!1;for(e.kind="scalar",e.result="",t=l=e.position,a=!1;d!==0;){if(d===58){if(i=e.input.charCodeAt(e.position+1),S(i)||r&&R(i))break}else if(d===35){if(o=e.input.charCodeAt(e.position-1),S(o))break}else{if(e.position===e.lineStart&&z(e)||r&&R(d))break;if(L(d))if(u=e.line,c=e.lineStart,p=e.lineIndent,y(e,!1,-1),e.lineIndent>=n){a=!0,d=e.input.charCodeAt(e.position);continue}else{e.position=l,e.line=u,e.lineStart=c,e.lineIndent=p;break}}a&&(b(e,t,l,!1),he(e,e.line-u),t=l=e.position,a=!1),k(d)||(l=e.position+1),d=e.input.charCodeAt(++e.position)}return b(e,t,l,!1),e.result?!0:(e.kind=f,e.result=s,!1)}function jr(e,n){var r,o,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,o=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(b(e,o,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)o=e.position,e.position++,i=e.position;else return!0;else L(r)?(b(e,o,i,!0),he(e,y(e,!1,n)),o=i=e.position):e.position===e.lineStart&&z(e)?h(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);h(e,"unexpected end of the stream within a single quoted scalar")}function Br(e,n){var r,o,i,t,l,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=o=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return b(e,r,e.position,!0),e.position++,!0;if(a===92){if(b(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),L(a))y(e,!1,n);else if(a<256&&fn[a])e.result+=pn[a],e.position++;else if((l=kr(a))>0){for(i=l,t=0;i>0;i--)a=e.input.charCodeAt(++e.position),(l=Mr(a))>=0?t=(t<<4)+l:h(e,"expected hexadecimal character");e.result+=Hr(t),e.position++}else h(e,"unknown escape sequence");r=o=e.position}else L(a)?(b(e,r,o,!0),he(e,y(e,!1,n)),r=o=e.position):e.position===e.lineStart&&z(e)?h(e,"unexpected end of the document within a double quoted scalar"):(e.position++,o=e.position)}h(e,"unexpected end of the stream within a double quoted scalar")}function Yr(e,n){var r=!0,o,i,t,l=e.tag,a,u=e.anchor,c,p,f,s,d,m=Object.create(null),v,x,_,g;if(g=e.input.charCodeAt(e.position),g===91)p=93,d=!1,a=[];else if(g===123)p=125,d=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),g=e.input.charCodeAt(++e.position);g!==0;){if(y(e,!0,n),g=e.input.charCodeAt(e.position),g===p)return e.position++,e.tag=l,e.anchor=u,e.kind=d?"mapping":"sequence",e.result=a,!0;r?g===44&&h(e,"expected the node content, but found ','"):h(e,"missed comma between flow collection entries"),x=v=_=null,f=s=!1,g===63&&(c=e.input.charCodeAt(e.position+1),S(c)&&(f=s=!0,e.position++,y(e,!0,n))),o=e.line,i=e.lineStart,t=e.position,j(e,n,W,!1,!0),x=e.tag,v=e.result,y(e,!0,n),g=e.input.charCodeAt(e.position),(s||e.line===o)&&g===58&&(f=!0,g=e.input.charCodeAt(++e.position),y(e,!0,n),j(e,n,W,!1,!0),_=e.result),d?P(e,a,m,x,v,_,o,i,t):f?a.push(P(e,null,m,x,v,_,o,i,t)):a.push(v),y(e,!0,n),g=e.input.charCodeAt(e.position),g===44?(r=!0,g=e.input.charCodeAt(++e.position)):r=!1}h(e,"unexpected end of the stream within a flow collection")}function Ur(e,n){var r,o,i=ne,t=!1,l=!1,a=n,u=0,c=!1,p,f;if(f=e.input.charCodeAt(e.position),f===124)o=!1;else if(f===62)o=!0;else return!1;for(e.kind="scalar",e.result="";f!==0;)if(f=e.input.charCodeAt(++e.position),f===43||f===45)ne===i?i=f===43?ye:br:h(e,"repeat of a chomping mode identifier");else if((p=Nr(f))>=0)p===0?h(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?h(e,"repeat of an indentation width identifier"):(a=n+p-1,l=!0);else break;if(k(f)){do f=e.input.charCodeAt(++e.position);while(k(f));if(f===35)do f=e.input.charCodeAt(++e.position);while(!L(f)&&f!==0)}for(;f!==0;){for(de(e),e.lineIndent=0,f=e.input.charCodeAt(e.position);(!l||e.lineIndent<a)&&f===32;)e.lineIndent++,f=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>a&&(a=e.lineIndent),L(f)){u++;continue}if(e.lineIndent<a){i===ye?e.result+=A.repeat(`
`,t?1+u:u):i===ne&&t&&(e.result+=`
`);break}for(o?k(f)?(c=!0,e.result+=A.repeat(`
`,t?1+u:u)):c?(c=!1,e.result+=A.repeat(`
`,u+1)):u===0?t&&(e.result+=" "):e.result+=A.repeat(`
`,u):e.result+=A.repeat(`
`,t?1+u:u),t=!0,l=!0,u=0,r=e.position;!L(f)&&f!==0;)f=e.input.charCodeAt(++e.position);b(e,r,e.position,!1)}return!0}function Se(e,n){var r,o=e.tag,i=e.anchor,t=[],l,a=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=t),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,h(e,"tab characters must not be used in indentation")),!(u!==45||(l=e.input.charCodeAt(e.position+1),!S(l))));){if(a=!0,e.position++,y(e,!0,-1)&&e.lineIndent<=n){t.push(null),u=e.input.charCodeAt(e.position);continue}if(r=e.line,j(e,n,an,!1,!0),t.push(e.result),y(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>n)&&u!==0)h(e,"bad indentation of a sequence entry");else if(e.lineIndent<n)break}return a?(e.tag=o,e.anchor=i,e.kind="sequence",e.result=t,!0):!1}function $r(e,n,r){var o,i,t,l,a,u,c=e.tag,p=e.anchor,f={},s=Object.create(null),d=null,m=null,v=null,x=!1,_=!1,g;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=f),g=e.input.charCodeAt(e.position);g!==0;){if(!x&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,h(e,"tab characters must not be used in indentation")),o=e.input.charCodeAt(e.position+1),t=e.line,(g===63||g===58)&&S(o))g===63?(x&&(P(e,f,s,d,m,null,l,a,u),d=m=v=null),_=!0,x=!0,i=!0):x?(x=!1,i=!0):h(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,g=o;else{if(l=e.line,a=e.lineStart,u=e.position,!j(e,r,tn,!1,!0))break;if(e.line===t){for(g=e.input.charCodeAt(e.position);k(g);)g=e.input.charCodeAt(++e.position);if(g===58)g=e.input.charCodeAt(++e.position),S(g)||h(e,"a whitespace character is expected after the key-value separator within a block mapping"),x&&(P(e,f,s,d,m,null,l,a,u),d=m=v=null),_=!0,x=!1,i=!1,d=e.tag,m=e.result;else if(_)h(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=p,!0}else if(_)h(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=p,!0}if((e.line===t||e.lineIndent>n)&&(x&&(l=e.line,a=e.lineStart,u=e.position),j(e,n,V,!0,i)&&(x?m=e.result:v=e.result),x||(P(e,f,s,d,m,v,l,a,u),d=m=v=null),y(e,!0,-1),g=e.input.charCodeAt(e.position)),(e.line===t||e.lineIndent>n)&&g!==0)h(e,"bad indentation of a mapping entry");else if(e.lineIndent<n)break}return x&&P(e,f,s,d,m,null,l,a,u),_&&(e.tag=c,e.anchor=p,e.kind="mapping",e.result=f),_}function qr(e){var n,r=!1,o=!1,i,t,l;if(l=e.input.charCodeAt(e.position),l!==33)return!1;if(e.tag!==null&&h(e,"duplication of a tag property"),l=e.input.charCodeAt(++e.position),l===60?(r=!0,l=e.input.charCodeAt(++e.position)):l===33?(o=!0,i="!!",l=e.input.charCodeAt(++e.position)):i="!",n=e.position,r){do l=e.input.charCodeAt(++e.position);while(l!==0&&l!==62);e.position<e.length?(t=e.input.slice(n,e.position),l=e.input.charCodeAt(++e.position)):h(e,"unexpected end of the stream within a verbatim tag")}else{for(;l!==0&&!S(l);)l===33&&(o?h(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(n-1,e.position+1),un.test(i)||h(e,"named tag handle cannot contain such characters"),o=!0,n=e.position+1)),l=e.input.charCodeAt(++e.position);t=e.input.slice(n,e.position),Dr.test(t)&&h(e,"tag suffix cannot contain flow indicator characters")}t&&!cn.test(t)&&h(e,"tag name cannot contain such characters: "+t);try{t=decodeURIComponent(t)}catch{h(e,"tag name is malformed: "+t)}return r?e.tag=t:I.call(e.tagMap,i)?e.tag=e.tagMap[i]+t:i==="!"?e.tag="!"+t:i==="!!"?e.tag="tag:yaml.org,2002:"+t:h(e,'undeclared tag handle "'+i+'"'),!0}function Gr(e){var n,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&h(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),n=e.position;r!==0&&!S(r)&&!R(r);)r=e.input.charCodeAt(++e.position);return e.position===n&&h(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(n,e.position),!0}function Kr(e){var n,r,o;if(o=e.input.charCodeAt(e.position),o!==42)return!1;for(o=e.input.charCodeAt(++e.position),n=e.position;o!==0&&!S(o)&&!R(o);)o=e.input.charCodeAt(++e.position);return e.position===n&&h(e,"name of an alias node must contain at least one character"),r=e.input.slice(n,e.position),I.call(e.anchorMap,r)||h(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],y(e,!0,-1),!0}function j(e,n,r,o,i){var t,l,a,u=1,c=!1,p=!1,f,s,d,m,v,x;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,t=l=a=V===r||an===r,o&&y(e,!0,-1)&&(c=!0,e.lineIndent>n?u=1:e.lineIndent===n?u=0:e.lineIndent<n&&(u=-1)),u===1)for(;qr(e)||Gr(e);)y(e,!0,-1)?(c=!0,a=t,e.lineIndent>n?u=1:e.lineIndent===n?u=0:e.lineIndent<n&&(u=-1)):a=!1;if(a&&(a=c||i),(u===1||V===r)&&(W===r||tn===r?v=n:v=n+1,x=e.position-e.lineStart,u===1?a&&(Se(e,x)||$r(e,x,v))||Yr(e,v)?p=!0:(l&&Ur(e,v)||jr(e,v)||Br(e,v)?p=!0:Kr(e)?(p=!0,(e.tag!==null||e.anchor!==null)&&h(e,"alias node should not have any properties")):Pr(e,v,W===r)&&(p=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(p=a&&Se(e,x))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&h(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),f=0,s=e.implicitTypes.length;f<s;f+=1)if(m=e.implicitTypes[f],m.resolve(e.result)){e.result=m.construct(e.result),e.tag=m.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(I.call(e.typeMap[e.kind||"fallback"],e.tag))m=e.typeMap[e.kind||"fallback"][e.tag];else for(m=null,d=e.typeMap.multi[e.kind||"fallback"],f=0,s=d.length;f<s;f+=1)if(e.tag.slice(0,d[f].tag.length)===d[f].tag){m=d[f];break}m||h(e,"unknown tag !<"+e.tag+">"),e.result!==null&&m.kind!==e.kind&&h(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+m.kind+'", not "'+e.kind+'"'),m.resolve(e.result,e.tag)?(e.result=m.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):h(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||p}function Wr(e){var n=e.position,r,o,i,t=!1,l;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(l=e.input.charCodeAt(e.position))!==0&&(y(e,!0,-1),l=e.input.charCodeAt(e.position),!(e.lineIndent>0||l!==37));){for(t=!0,l=e.input.charCodeAt(++e.position),r=e.position;l!==0&&!S(l);)l=e.input.charCodeAt(++e.position);for(o=e.input.slice(r,e.position),i=[],o.length<1&&h(e,"directive name must not be less than one character in length");l!==0;){for(;k(l);)l=e.input.charCodeAt(++e.position);if(l===35){do l=e.input.charCodeAt(++e.position);while(l!==0&&!L(l));break}if(L(l))break;for(r=e.position;l!==0&&!S(l);)l=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}l!==0&&de(e),I.call(we,o)?we[o](e,o,i):Q(e,'unknown document directive "'+o+'"')}if(y(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,y(e,!0,-1)):t&&h(e,"directives end mark is expected"),j(e,e.lineIndent-1,V,!1,!0),y(e,!0,-1),e.checkLineBreaks&&Or.test(e.input.slice(n,e.position))&&Q(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&z(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,y(e,!0,-1));return}if(e.position<e.length-1)h(e,"end of the stream or a document separator is expected");else return}function dn(e,n){e=String(e),n=n||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new Rr(e,n),o=e.indexOf("\0");for(o!==-1&&(r.position=o,h(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Wr(r);return r.documents}function Vr(e,n,r){n!==null&&typeof n=="object"&&typeof r>"u"&&(r=n,n=null);var o=dn(e,r);if(typeof n!="function")return o;for(var i=0,t=o.length;i<t;i+=1)n(o[i])}function Qr(e,n){var r=dn(e,n);if(r.length!==0){if(r.length===1)return r[0];throw new E("expected a single document in the stream, but found more")}}var Xr=Vr,Zr=Qr,hn={loadAll:Xr,load:Zr},mn=Object.prototype.toString,gn=Object.prototype.hasOwnProperty,me=65279,zr=9,$=10,Jr=13,ei=32,ni=33,ri=34,le=35,ii=37,oi=38,li=39,ti=42,vn=44,ai=45,X=58,ui=61,ci=62,fi=63,pi=64,xn=91,yn=93,si=96,An=123,di=124,Cn=125,w={};w[0]="\\0";w[7]="\\a";w[8]="\\b";w[9]="\\t";w[10]="\\n";w[11]="\\v";w[12]="\\f";w[13]="\\r";w[27]="\\e";w[34]='\\"';w[92]="\\\\";w[133]="\\N";w[160]="\\_";w[8232]="\\L";w[8233]="\\P";var hi=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],mi=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function gi(e,n){var r,o,i,t,l,a,u;if(n===null)return{};for(r={},o=Object.keys(n),i=0,t=o.length;i<t;i+=1)l=o[i],a=String(n[l]),l.slice(0,2)==="!!"&&(l="tag:yaml.org,2002:"+l.slice(2)),u=e.compiledTypeMap.fallback[l],u&&gn.call(u.styleAliases,a)&&(a=u.styleAliases[a]),r[l]=a;return r}function vi(e){var n,r,o;if(n=e.toString(16).toUpperCase(),e<=255)r="x",o=2;else if(e<=65535)r="u",o=4;else if(e<=4294967295)r="U",o=8;else throw new E("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+A.repeat("0",o-n.length)+n}var xi=1,q=2;function yi(e){this.schema=e.schema||se,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=A.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=gi(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?q:xi,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function _e(e,n){for(var r=A.repeat(" ",n),o=0,i=-1,t="",l,a=e.length;o<a;)i=e.indexOf(`
`,o),i===-1?(l=e.slice(o),o=a):(l=e.slice(o,i+1),o=i+1),l.length&&l!==`
`&&(t+=r),t+=l;return t}function te(e,n){return`
`+A.repeat(" ",e.indent*n)}function Ai(e,n){var r,o,i;for(r=0,o=e.implicitTypes.length;r<o;r+=1)if(i=e.implicitTypes[r],i.resolve(n))return!0;return!1}function Z(e){return e===ei||e===zr}function G(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==me||65536<=e&&e<=1114111}function Le(e){return G(e)&&e!==me&&e!==Jr&&e!==$}function Te(e,n,r){var o=Le(e),i=o&&!Z(e);return(r?o:o&&e!==vn&&e!==xn&&e!==yn&&e!==An&&e!==Cn)&&e!==le&&!(n===X&&!i)||Le(n)&&!Z(n)&&e===le||n===X&&i}function Ci(e){return G(e)&&e!==me&&!Z(e)&&e!==ai&&e!==fi&&e!==X&&e!==vn&&e!==xn&&e!==yn&&e!==An&&e!==Cn&&e!==le&&e!==oi&&e!==ti&&e!==ni&&e!==di&&e!==ui&&e!==ci&&e!==li&&e!==ri&&e!==ii&&e!==pi&&e!==si}function wi(e){return!Z(e)&&e!==X}function Y(e,n){var r=e.charCodeAt(n),o;return r>=55296&&r<=56319&&n+1<e.length&&(o=e.charCodeAt(n+1),o>=56320&&o<=57343)?(r-55296)*1024+o-56320+65536:r}function wn(e){var n=/^\n* /;return n.test(e)}var En=1,ae=2,Sn=3,_n=4,H=5;function Ei(e,n,r,o,i,t,l,a){var u,c=0,p=null,f=!1,s=!1,d=o!==-1,m=-1,v=Ci(Y(e,0))&&wi(Y(e,e.length-1));if(n||l)for(u=0;u<e.length;c>=65536?u+=2:u++){if(c=Y(e,u),!G(c))return H;v=v&&Te(c,p,a),p=c}else{for(u=0;u<e.length;c>=65536?u+=2:u++){if(c=Y(e,u),c===$)f=!0,d&&(s=s||u-m-1>o&&e[m+1]!==" ",m=u);else if(!G(c))return H;v=v&&Te(c,p,a),p=c}s=s||d&&u-m-1>o&&e[m+1]!==" "}return!f&&!s?v&&!l&&!i(e)?En:t===q?H:ae:r>9&&wn(e)?H:l?t===q?H:ae:s?_n:Sn}function Si(e,n,r,o,i){e.dump=function(){if(n.length===0)return e.quotingType===q?'""':"''";if(!e.noCompatMode&&(hi.indexOf(n)!==-1||mi.test(n)))return e.quotingType===q?'"'+n+'"':"'"+n+"'";var t=e.indent*Math.max(1,r),l=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-t),a=o||e.flowLevel>-1&&r>=e.flowLevel;function u(c){return Ai(e,c)}switch(Ei(n,a,e.indent,l,u,e.quotingType,e.forceQuotes&&!o,i)){case En:return n;case ae:return"'"+n.replace(/'/g,"''")+"'";case Sn:return"|"+Fe(n,e.indent)+be(_e(n,t));case _n:return">"+Fe(n,e.indent)+be(_e(_i(n,l),t));case H:return'"'+Li(n)+'"';default:throw new E("impossible error: invalid scalar style")}}()}function Fe(e,n){var r=wn(e)?String(n):"",o=e[e.length-1]===`
`,i=o&&(e[e.length-2]===`
`||e===`
`),t=i?"+":o?"":"-";return r+t+`
`}function be(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function _i(e,n){for(var r=/(\n+)([^\n]*)/g,o=function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,r.lastIndex=c,Ie(e.slice(0,c),n)}(),i=e[0]===`
`||e[0]===" ",t,l;l=r.exec(e);){var a=l[1],u=l[2];t=u[0]===" ",o+=a+(!i&&!t&&u!==""?`
`:"")+Ie(u,n),i=t}return o}function Ie(e,n){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,o,i=0,t,l=0,a=0,u="";o=r.exec(e);)a=o.index,a-i>n&&(t=l>i?l:a,u+=`
`+e.slice(i,t),i=t+1),l=a;return u+=`
`,e.length-i>n&&l>i?u+=e.slice(i,l)+`
`+e.slice(l+1):u+=e.slice(i),u.slice(1)}function Li(e){for(var n="",r=0,o,i=0;i<e.length;r>=65536?i+=2:i++)r=Y(e,i),o=w[r],!o&&G(r)?(n+=e[i],r>=65536&&(n+=e[i+1])):n+=o||vi(r);return n}function Ti(e,n,r){var o="",i=e.tag,t,l,a;for(t=0,l=r.length;t<l;t+=1)a=r[t],e.replacer&&(a=e.replacer.call(r,String(t),a)),(F(e,n,a,!1,!1)||typeof a>"u"&&F(e,n,null,!1,!1))&&(o!==""&&(o+=","+(e.condenseFlow?"":" ")),o+=e.dump);e.tag=i,e.dump="["+o+"]"}function Oe(e,n,r,o){var i="",t=e.tag,l,a,u;for(l=0,a=r.length;l<a;l+=1)u=r[l],e.replacer&&(u=e.replacer.call(r,String(l),u)),(F(e,n+1,u,!0,!0,!1,!0)||typeof u>"u"&&F(e,n+1,null,!0,!0,!1,!0))&&((!o||i!=="")&&(i+=te(e,n)),e.dump&&$===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=t,e.dump=i||"[]"}function Fi(e,n,r){var o="",i=e.tag,t=Object.keys(r),l,a,u,c,p;for(l=0,a=t.length;l<a;l+=1)p="",o!==""&&(p+=", "),e.condenseFlow&&(p+='"'),u=t[l],c=r[u],e.replacer&&(c=e.replacer.call(r,u,c)),F(e,n,u,!1,!1)&&(e.dump.length>1024&&(p+="? "),p+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),F(e,n,c,!1,!1)&&(p+=e.dump,o+=p));e.tag=i,e.dump="{"+o+"}"}function bi(e,n,r,o){var i="",t=e.tag,l=Object.keys(r),a,u,c,p,f,s;if(e.sortKeys===!0)l.sort();else if(typeof e.sortKeys=="function")l.sort(e.sortKeys);else if(e.sortKeys)throw new E("sortKeys must be a boolean or a function");for(a=0,u=l.length;a<u;a+=1)s="",(!o||i!=="")&&(s+=te(e,n)),c=l[a],p=r[c],e.replacer&&(p=e.replacer.call(r,c,p)),F(e,n+1,c,!0,!0,!0)&&(f=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,f&&(e.dump&&$===e.dump.charCodeAt(0)?s+="?":s+="? "),s+=e.dump,f&&(s+=te(e,n)),F(e,n+1,p,!0,f)&&(e.dump&&$===e.dump.charCodeAt(0)?s+=":":s+=": ",s+=e.dump,i+=s));e.tag=t,e.dump=i||"{}"}function De(e,n,r){var o,i,t,l,a,u;for(i=r?e.explicitTypes:e.implicitTypes,t=0,l=i.length;t<l;t+=1)if(a=i[t],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof n=="object"&&n instanceof a.instanceOf)&&(!a.predicate||a.predicate(n))){if(r?a.multi&&a.representName?e.tag=a.representName(n):e.tag=a.tag:e.tag="?",a.represent){if(u=e.styleMap[a.tag]||a.defaultStyle,mn.call(a.represent)==="[object Function]")o=a.represent(n,u);else if(gn.call(a.represent,u))o=a.represent[u](n,u);else throw new E("!<"+a.tag+'> tag resolver accepts not "'+u+'" style');e.dump=o}return!0}return!1}function F(e,n,r,o,i,t,l){e.tag=null,e.dump=r,De(e,r,!1)||De(e,r,!0);var a=mn.call(e.dump),u=o,c;o&&(o=e.flowLevel<0||e.flowLevel>n);var p=a==="[object Object]"||a==="[object Array]",f,s;if(p&&(f=e.duplicates.indexOf(r),s=f!==-1),(e.tag!==null&&e.tag!=="?"||s||e.indent!==2&&n>0)&&(i=!1),s&&e.usedDuplicates[f])e.dump="*ref_"+f;else{if(p&&s&&!e.usedDuplicates[f]&&(e.usedDuplicates[f]=!0),a==="[object Object]")o&&Object.keys(e.dump).length!==0?(bi(e,n,e.dump,i),s&&(e.dump="&ref_"+f+e.dump)):(Fi(e,n,e.dump),s&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object Array]")o&&e.dump.length!==0?(e.noArrayIndent&&!l&&n>0?Oe(e,n-1,e.dump,i):Oe(e,n,e.dump,i),s&&(e.dump="&ref_"+f+e.dump)):(Ti(e,n,e.dump),s&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&Si(e,e.dump,n,t,u);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new E("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}function Ii(e,n){var r=[],o=[],i,t;for(ue(e,r,o),i=0,t=o.length;i<t;i+=1)n.duplicates.push(r[o[i]]);n.usedDuplicates=new Array(t)}function ue(e,n,r){var o,i,t;if(e!==null&&typeof e=="object")if(i=n.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(n.push(e),Array.isArray(e))for(i=0,t=e.length;i<t;i+=1)ue(e[i],n,r);else for(o=Object.keys(e),i=0,t=o.length;i<t;i+=1)ue(e[o[i]],n,r)}function Oi(e,n){n=n||{};var r=new yi(n);r.noRefs||Ii(e,r);var o=e;return r.replacer&&(o=r.replacer.call({"":o},"",o)),F(r,0,o,!0,!0)?r.dump+`
`:""}var Di=Oi,Mi={dump:Di};function ge(e,n){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+n+" instead, which is now safe by default.")}}var ki=C,Ni=Be,Hi=qe,Ri=Qe,Pi=Xe,ji=se,Bi=hn.load,Yi=hn.loadAll,Ui=Mi.dump,$i=E,qi={binary:nn,float:Ve,map:$e,null:Ge,pairs:on,set:ln,timestamp:Je,bool:Ke,int:We,merge:en,omap:rn,seq:Ue,str:Ye},Gi=ge("safeLoad","load"),Ki=ge("safeLoadAll","loadAll"),Wi=ge("safeDump","dump"),Vi={Type:ki,Schema:Ni,FAILSAFE_SCHEMA:Hi,JSON_SCHEMA:Ri,CORE_SCHEMA:Pi,DEFAULT_SCHEMA:ji,load:Bi,loadAll:Yi,dump:Ui,YAMLException:$i,types:qi,safeLoad:Gi,safeLoadAll:Ki,safeDump:Wi};let B={major:{},minor:{}},K={major:{},minor:{}},ve=[];const Qi=async e=>{try{const n=await fetch(e);return{text:await n.text(),headers:n.headers}}catch(n){return console.error(`Error fetching ${e}:`,n),null}},Xi=e=>localStorage.getItem(`${e}Timestamp`),Zi=(e,n)=>{localStorage.setItem(`${e}Timestamp`,n)},zi=e=>{try{return Vi.load(e)}catch(n){return console.error("Error parsing YAML:",n),{}}},ce=async e=>{const n=Xi(e),{text:r,headers:o}=await Qi(`${e}?timestamp=${n||new Date().toUTCString()}`);if(!r)return{};const i=zi(r),t=o.get("Last-Modified");return t&&t!==n&&Zi(e,t),i};async function Ji(){B={major:{},minor:{}},K={major:{},minor:{}};const e=await ce("data/major.yaml"),n=await ce("data/minor.yaml"),r=(o,i)=>{o.curricula.forEach(t=>{const{code:l,courses:a,name:u}=t,c=l.toUpperCase();B[i][c]={name:u,courses:new Set(a)},a.forEach(p=>{K[i][p]||(K[i][p]=new Set),K[i][p].add(c)})})};r(e,"major"),r(n,"minor")}async function eo(){ve=await ce("data/periods.yaml"),no()}function no(){const e=document.getElementById("periods-container");e.innerHTML="",ve.periods.forEach(n=>{const r=document.createElement("div");r.classList.add("year");const o=document.createElement("span");o.setAttribute("id","year"),o.textContent=n.year,r.appendChild(o),n.periods.forEach(i=>{const t=document.createElement("div");t.classList.add("period"),t.dataset.period=i.period+" "+n.year;const l=document.createElement("span");l.classList.add("full-text"),l.textContent=i.period;const a=document.createElement("span");a.classList.add("abbreviated-text"),a.textContent=i.period.substring(7),t.appendChild(l),t.appendChild(a),r.appendChild(t)}),e.appendChild(r)})}let T=[],O=!1,D=-1,M=[],Me=()=>{};const Ln=[];function ro(e){Me=e,M=document.querySelectorAll(".period"),M.forEach((r,o)=>{const i=p=>{console.log("mousedownHandler triggered"),p.preventDefault(),p.stopPropagation(),O=!0,D=o,T=[r.dataset.period],n()},t=p=>{if(console.log("mouseoverHandler triggered"),p.stopPropagation(),O){const f=o,s=[Math.min(D,f),Math.max(D,f)];T=[];for(let d=s[0];d<=s[1];d++)T.push(M[d].dataset.period);n()}},l=p=>{console.log("mouseupHandler triggered"),p.stopPropagation(),O=!1},a=p=>{console.log("touchstartHandler triggered"),p.preventDefault(),p.stopPropagation(),O=!0,D=o,T=[r.dataset.period],n()},u=p=>{console.log("touchmoveHandler triggered"),p.preventDefault(),p.stopPropagation();const f=p.touches[0],s=document.elementFromPoint(f.pageX,f.pageY);if(s&&s.classList.contains("period")){const d=Array.from(M).indexOf(s);if(O&&d!==-1){const m=d,v=[Math.min(D,m),Math.max(D,m)];T=[];for(let x=v[0];x<=v[1];x++)T.push(M[x].dataset.period);n()}}},c=p=>{console.log("touchendHandler triggered"),p.stopPropagation(),O=!1};r.addEventListener("mousedown",i,!1),r.addEventListener("mouseover",t,!1),r.addEventListener("mouseup",l,!1),r.addEventListener("touchstart",a,!1),r.addEventListener("touchmove",u,!1),r.addEventListener("touchend",c,!1),Ln.push({element:r,events:[{type:"mousedown",handler:i},{type:"mouseover",handler:t},{type:"mouseup",handler:l},{type:"touchstart",handler:a},{type:"touchmove",handler:u},{type:"touchend",handler:c}]})});function n(){M.forEach(r=>{T.includes(r.dataset.period)?r.classList.add("selected"):r.classList.remove("selected")}),Me(T)}}function io(){Ln.forEach(({element:n,events:r})=>{r.forEach(({type:o,handler:i})=>{n.removeEventListener(o,i)})}),T=[],O=!1,D=-1,M.forEach(n=>{n.classList.remove("selected")});const e=document.getElementById("periods-container");e.style.display="none"}function re(e,n,r){const o=document.createElement("select");return o.classList.add(e),o.setAttribute("onchange",n),o.innerHTML=r.map(i=>`<option value="${i.value}">${i.text}</option>`).join(""),o}function oo(e,n){return n.type==="contains"?e.code.toLowerCase().includes(n.value.toLowerCase()):e.code.toLowerCase()===n.value.toLowerCase()}function lo(e,n){return n.type==="contains"?e.name.en.toLowerCase().includes(n.value.toLowerCase()):e.name.en.toLowerCase()===n.value.toLowerCase()}function to(e,n){return e.teachers.some(r=>n.type==="contains"?r.toLowerCase().includes(n.value.toLowerCase()):r.toLowerCase()===n.value.toLowerCase())}function ao(e,n){return e.languageOfInstructionCodes.includes(n.value)}function ke(e,n){const r=new Date(e.startDate);return n.type==="after"?r>new Date(n.value):r<new Date(n.value)}function uo(e,n){const r=new Date(e.enrolmentStartDate),o=new Date(e.enrolmentEndDate),i=new Date(n.value);return n.type==="after"?r>i:n.type==="before"?o<i:r<=i&&o>=i}function co(e,n){return e.credits.min===parseInt(n.value)}function fo(e,n){var r;return((r=e.summary.level)==null?void 0:r.en)===n.value}function Ne(e,n,r,o){return He(e.code,n.value,r,o)||He(e.code,n.type,r,o)}function po(e,n,r){const i=n.value.split(", ").map(d=>so(d,r));if(!i||i.length===0||i.every(d=>d===null))return!1;const t=i.map(d=>new Date(d.start_date)),l=i.map(d=>new Date(d.end_date)),a=new Date(Math.min(...t)),u=new Date(Math.max(...l)),c=new Date(Math.min(...l)),p=new Date(Math.max(...t)),f=new Date(e.startDate),s=new Date(e.endDate);switch(n.type){case"is in":return a<=f&&s<=u;case"equals":return a<=f&&f<=c&&p<=s&&s<=u;case"overlaps":return f<=u&&s>=a;default:return!1}}function so(e,n){var t;const r=e.slice(-7),o=e.slice(0,-8).trim();let i=null;return i=(t=n.periods.find(l=>l.year===r))==null?void 0:t.periods.find(l=>l.period===o),i?{start_date:i.start_date,end_date:i.end_date}:null}function He(e,n,r,o){var i;return r!=="major"&&r!=="minor"?!1:((i=o[r][n])==null?void 0:i.courses.has(e))||!1}let fe=[];async function ho(){try{fe=await(await fetch("data/courses.json")).json(),await Ji(),await eo(),Tn(fe,!1)}catch(e){console.error("Error loading JSON:",e)}}function Tn(e,n){const r=document.getElementById("course-list");r.innerHTML="",e.forEach(i=>{const t=`https://sisu.aalto.fi/student/courseunit/${i.courseUnitId}/brochure`,l=`<tr>
      <td>${i.code}</td>
      <td><a href="${t}" target="_blank">${i.name.en}</a></td>
      <td>${i.teachers.join(", ")}</td>
      <td>${i.credits.min}</td>
      <td>${i.languageOfInstructionCodes.join(", ")}</td>
      <td>${i.startDate}</td>
      <td>${i.endDate}</td>
      <td>${i.enrolmentStartDate}</td>
      <td>${i.enrolmentEndDate}</td>
      <td>${i.summary.prerequisites?i.summary.prerequisites.en:"None"}</td>
    </tr>`;r.insertAdjacentHTML("beforeend",l)});const o=document.getElementById("course-count");n?o.innerHTML=`Total filtered courses: ${e.length}`:o.innerHTML=`Total courses: ${e.length}`}function mo(){const e=document.getElementById("filter-container"),n=document.createElement("div");if(n.classList.add("filter-group"),e.children.length>0){const t=re("filter-boolean","",[{value:"AND",text:"AND"},{value:"OR",text:"OR"}]);n.appendChild(t)}const r=re("filter-field","handleFieldChange(this)",[{value:"code",text:"Course Code"},{value:"name",text:"Course Name"},{value:"period",text:"Period"},{value:"startDate",text:"Start Date"},{value:"endDate",text:"End Date"},{value:"major",text:"Major"},{value:"minor",text:"Minor"},{value:"enrollment",text:"Enrollment"},{value:"teacher",text:"Teacher"},{value:"language",text:"Language"},{value:"credits",text:"Credits"},{value:"level",text:"Level"}]),o=re("filter-type","",[{value:"contains",text:"Contains"},{value:"is",text:"Is"}]),i=document.createElement("div");i.classList.add("filter-input"),i.innerHTML='<input type="text" class="filter-value" placeholder="Enter value">',e.appendChild(n),n.appendChild(r),n.appendChild(o),n.appendChild(i),n.innerHTML+='<button onclick="removeFilter(this)"><i class="bi bi-trash"></i></button>',Fn(r,i,o)}function go(e){const n=e.closest(".filter-group"),r=n.querySelector(".filter-input"),o=n.querySelector(".filter-type"),i=document.getElementById("periods-container"),t=e.dataset.lastSelectedField;e.value==="period"&&io(),t==="period"&&e.value!=="period"&&(i.style.display="none"),e.dataset.lastSelectedField=e.value,Fn(e,r,o)}function ie(e,n){e.innerHTML=n}function vo(e,n){e.innerHTML=n.map(r=>`<option value="${r.toLowerCase()}">${r}</option>`).join("")}function Re(e,n,r){const o=(t,l)=>{const a=document.createElement("option");a.value=t,a.textContent=l,e.appendChild(a)};e.innerHTML="",Object.entries(B[r]).forEach(([t,{name:l}])=>{l&&o(t,l)}),setTimeout(()=>{const t=n.querySelector(".filter-value");t&&(e.addEventListener("change",()=>{t.value=e.value}),t.addEventListener("input",l=>{const a=l.target.value.trim().toUpperCase();Object.keys(B[r]).includes(a)?e.value=a:e.value=""}))},0)}function Fn(e,n,r){n.innerHTML="",r.innerHTML="";const o=e.value,i={language:{inputHTML:`
                <select class="filter-value">
                    <option value="en">English</option>
                    <option value="fi">Finnish</option>
                    <option value="sv">Swedish</option>
                </select>`,operators:["Is"]},credits:{inputHTML:'<input type="text" class="filter-value" placeholder="Enter value">',operators:["Is"]},level:{inputHTML:`
                <select class="filter-value">
                    <option value="basic-studies">Basic Studies</option>
                    <option value="intermediate-studies">Intermediate Studies</option>
                    <option value="advanced-studies">Advanced Studies</option>
                    <option value="other-studies">Other Studies</option>
                </select>`,operators:["Is"]},startDate:{inputHTML:`<input type="date" class="filter-value" value="${new Date().toISOString().split("T")[0]}">`,operators:["After","Before"]},endDate:{inputHTML:`<input type="date" class="filter-value" value="${new Date().toISOString().split("T")[0]}">`,operators:["Before","After"]},enrollment:{inputHTML:`<input type="date" class="filter-value" value="${new Date().toISOString().split("T")[0]}">`,operators:["On","Before","After"]},major:{inputHTML:'<input type="text" class="filter-value" placeholder="Enter value">',operators:[],customHandler:()=>{Re(r,n,"major");const a=r.options[0].value;ie(n,`<input type="text" class="filter-value" placeholder="Enter value" value="${a}">`)}},minor:{inputHTML:'<input type="text" class="filter-value" placeholder="Enter value">',operators:[],customHandler:()=>{Re(r,n,"minor");const a=r.options[0].value;ie(n,`<input type="text" class="filter-value" placeholder="Enter value" value="${a}">`)}},period:{inputHTML:'<input type="text" class="filter-value" placeholder="Select period(s)">',operators:["Is In","Equals","Overlaps"],customHandler:()=>{const a=document.getElementById("periods-container");a.style.display="flex",ro(u=>{const c=n.querySelector(".filter-value");c.value=u.join(", "),console.log("Updated input with:",u)})}}},t={inputHTML:'<input type="text" class="filter-value" placeholder="Enter value">',operators:["Contains","Is"]},l=i[o]||t;ie(n,l.inputHTML),vo(r,l.operators),l.customHandler&&l.customHandler()}function xo(e){e.closest(".filter-group").remove();const r=document.querySelectorAll(".filter-field"),o=document.getElementById("periods-container");Array.from(r).some(t=>t.value==="period")||(o.style.display="none")}function yo(){const e=document.querySelectorAll(".filter-group"),n=document.getElementById("uniqueToggle").checked,r=[];let o=[];e.forEach(l=>{var s;const a=l.querySelector(".filter-field").value,u=l.querySelector(".filter-type").value,c=l.querySelector(".filter-value").value.trim();if(!c){console.warn(`Empty value for field: ${a}`);return}const p={field:a,type:u,value:c};((s=l.querySelector(".filter-boolean"))==null?void 0:s.value)==="AND"?o.push(p):(o.length>0&&r.push(o),o=[p]),console.log("Current group: "),console.log(o),console.log("Filter groups: "),console.log(r)}),o.length>0&&r.push(o);const i=new Set;r.forEach(l=>{fe.filter(u=>Ao(u,l)).forEach(u=>i.add(u))});let t=Array.from(i);n&&(t=wo(t)),Tn(t,!0)}function Ao(e,n){return n.every(r=>Co(e,r))}function Co(e,n){switch(n.field){case"code":return oo(e,n);case"name":return lo(e,n);case"teacher":return to(e,n);case"language":return ao(e,n);case"startDate":return ke(e,n);case"endDate":return ke(e,n);case"enrollment":return uo(e,n);case"credits":return co(e,n);case"level":return fo(e,n);case"period":return po(e,n,ve);case"major":return Ne(e,n,"major",B);case"minor":return Ne(e,n,"minor",B)}}function wo(e){const n=new Map;return e.forEach(r=>{const o=r.code.toLowerCase(),i=r.type.includes("teaching");if(n.has(o)){const t=n.get(o);(!t.type.includes("teaching")&&i||i&&r.startDate>t.startDate)&&n.set(o,r)}else n.set(o,r)}),Array.from(n.values())}window.addFilter=mo;window.handleFieldChange=go;window.removeFilter=xo;window.filterCourses=yo;window.onload=ho;
